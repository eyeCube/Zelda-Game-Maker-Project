<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_links_sword_kokiri</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>2</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>debug=0

stab=0

moved_in=0


image_speed=0

sound_play(choose(snd_sword_1,snd_sword_2,snd_sword_3,snd_sword_4))

beam=0

dies_if_button_unpressed=0

hit=0

force=0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="11">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>dies_if_button_unpressed=1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="10">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>damage=min(damage,1)

if hit=1 instance_destroy()

//alarm[9]=1
alarm[11]=2
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="9">
      <action>
        <libid>1</libid>
        <id>203</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>1</exetype>
        <functionname>action_kill_object</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//sword beam

if obj_link.sword_beam_delay&gt;0 exit

if beam=0 exit

with obj_links_bolt
if sprite_index=spr_sword_beam
exit

if hit=1 exit




obj=instance_create(x-hspeed,y-vspeed,obj_links_bolt)
if obj_link.aim&lt;90 or obj_link.aim&gt;270
{
obj.y+=0
obj.x+=0
}
if obj_link.aim&gt;90 and obj_link.aim&lt;270
{
obj.y+=-1
obj.x+=-1
}
if obj_link.aim=90
{
obj.y+=-1
obj.x+=0
}
if obj_link.aim=270
{
obj.y+=0
obj.x+=-2
}
obj.visible=0
//obj.alarm[11]=2
obj.direction=obj_link.image_index*90
obj.image_angle=obj.direction
obj.speed=global.link_sword_beam_speed
obj.damage=1
obj.force=global.essence_farore_force
obj.spell="Sword Beam"
obj.alarm[10]=global.link_sword_beam_time
obj.alarm1=1
obj.alarm[1]=obj.alarm1
obj.sprite_index=spr_sword_beam
obj.image_speed=0
obj.index_to=1+global.essence_din_active+global.essence_nayru_active*2+global.essence_farore_active*3
obj.create_particles=0

obj_link.sword_beam_delay=global.link_sword_beam_min_time
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>x+=xt3
y+=yt3

image_index=image_index_2

//for razor sword
if debug=1
image_index=10
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>x+=xt2
y+=yt2
image_index=image_index_1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>depth=-2

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if dies_if_button_unpressed=1
{

    //charge_button is set in scr_sword
    if stab&lt;=0
    {
        if keyboard_check(charge_button)=0
        instance_destroy()
        if hit!=0
        instance_destroy()
    
        with obj_link
        {
            if check_up=0
            if check_down=0
            if check_left=0
            if check_right=0
            {
                image_index_mod=0
                if image_index=3
                image_index_mod=1
            }
        }
    
    }
    
    
    if moved_in=0
    {
        x=obj_link.x+xt4
        y=obj_link.y+yt4-round(obj_link.z)
        
        //////////////////////////////////////////////////////////////////
            exit
        //////////////////////////////////////////////////////////////////
    }

}


x_relative=x-obj_link.xprevious
if obj_link.jump=1
y_relative=y-obj_link.yprevious-obj_link.z_change
else
y_relative=y-obj_link.yprevious

//stay with link
    x=obj_link.x+x_relative
    y=obj_link.y+y_relative
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if hit&lt;0
hit+=1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if obj_link.hit&gt;0
if dies_if_button_unpressed=1
{
    instance_destroy()
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///breaking things

if obj_link.sprite_index!=spr_link_cutting exit


if alarm[3]=0
if hit&gt;=0
{

    var lx, ly;
    if obj_link.image_index=0
    lx=14
    if obj_link.image_index=2
    lx=-14
    ly=2
    if obj_link.image_index=1
    {ly=-11
    lx=-2}
    if obj_link.image_index=3
    {ly=16
    lx=2}
    
    obj=instance_position(obj_link.x+lx,obj_link.y+ly,obj_breakable_par)
    
    if obj&gt;0
    if place_meeting(x,y,obj)
    if obj.sprite_index!=spr_enemy_falling
    if obj.sword_break
    {
    
    if dies_if_button_unpressed=1
    hit=1
    
        with obj
        {
        
        life-=other.damage
        life-=other.fire
        life-=other.shock
        life-=other.poison
        hit=1
        
        if life&lt;=0
        instance_destroy()
        
        }
    }

}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///hitting bombs


var temp_id;
temp_id=id


with obj_bomb
{
    if collision_rectangle(x-sprite_width/2,y-sprite_height/2-z,x+sprite_width/2,y+sprite_height/2-z,temp_id,1,0)&gt;0
    {
        
        mode=3
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var xt, yt;
xt=0
yt=0
if stab&gt;0
{
if obj_link.image_index=0
xt=stab/2
if obj_link.image_index=2
xt=-stab/2
if obj_link.image_index=1
yt=-stab/2
if obj_link.image_index=3
yt=stab/2
}


draw_sprite(sprite_index,image_index,round(x+obj_link.xg)+round(xt),round(y+obj_link.yg)+round(yt))


stab-=1
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
