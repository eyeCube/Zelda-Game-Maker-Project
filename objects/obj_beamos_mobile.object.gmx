<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_beamos</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>3</depth>
  <persistent>0</persistent>
  <parentName>obj_enemy_par</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>604</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_inherited</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//STATES

collides_with_walls=0

extra_hit=2

hit=0

dead=0
death_timer=15

attack=0
rotate=1
allow_index_change=1

aim=0

aggro=1

spritewidth=sprite_width
spriteheight=sprite_height

legs_index=0
legs_sprite=spr_beamos_mobile
legs_y=2
alarm4=10
alarm[4]=alarm4
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>life_max=4
life=life_max
mass=50

avoid_link_collision=1

force=100
damage=1
bolt_damage=1
slow=0
stun=0
ice=0
fire=0
shock=0
poison=0
slowed=0
stunned=0
frozen=0
burned=0
shocked=0
poisoned=0
hold=0

knockback=0
sword_push_away=.5
attack_retreat=0


attack_alarm=10
attack_angle=15
attack_speed=14
attack_distance=10
line_of_sight=100



hurt_sprite=spr_beamos_hurt
regular_sprite=spr_beamos
sprite_left=sprite_width/2
sprite_right=sprite_width/2
sprite_up=sprite_height/2
sprite_down=sprite_height/2


can_change_direction=0
move_speed=.5
image_speed_normal=.075
image_speed=0
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//RESISTANCES

throw_stun=0
res_throw=0
boomerang_stun=0
res_boomerang=0
res_fire=0
res_ice=0
res_ice_damage=0
res_lightning=.5
res_lightning_damage=1
res_light=0
res_physical=0
physical_stun=0
res_sword_beam=0
res_arrow=0
arrow_bounce=1
res_magic=0
magic_transform=0
magic_transform_object=0
res_explosion=1
res_explosion_damage=1
res_poison=0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>    obj=instance_create(x,y,obj_explosion)
    obj.size=20
    obj.damage=4
    obj.knockback=100
obj.sprite_index=spr_explosion
obj.image_speed=.33


if random(1)&lt;.07
{
instance_create(x,y,obj_recovery_heart)
}

else
if random(1)&lt;.17
{
instance_create(x,y,obj_bomb_item)
}

else
if random(1)&lt;.0017
{
instance_create(x,y,obj_arrow_item)
}

else
if random(1)&lt;.05
{
instance_create(x,y,obj_rupee_blue)
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>alarm[4]=alarm4

if global.show_inventory=1
{
    alarm[4]=1
    exit
}



legs_index=!legs_index
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>allow_index_change=1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>hit=4
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if stunned&gt;0
{
exit
}

attack=0
aim-=attack_angle
allow_index_change=0
alarm[3]=2
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if dead=1 exit


alarm[1]=attack_alarm


if stunned&gt;0
{
alarm[0]=1
exit
}


obj=instance_create(x,y,obj_enemy_bolt_line)
obj.xspawn=obj.x
obj.yspawn=obj.y
obj.direction=aim
obj.speed=attack_speed
obj.damage=bolt_damage
obj.trail=100
//obj.alarm[10]=attack_distance wtf was this?
obj.spell="Magic"
obj.sprite_index=spr_beamos_beam
obj.trail_index=obj.sprite_index
obj.trail_image_index=0
obj.trail_factor=3
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//STATUS

stunned-=1

//////////////////////////////////////////////////////////////////
if global.show_inventory=1
exit
//////////////////////////////////////////////////////////////////

burned-=1
frozen-=1
shocked-=1
slowed-=1

can_change_direction-=1


sprite_index=regular_sprite
legs_sprite=spr_beamos_mobile

hit-=1

if hit&gt;0
{
if is_even(hit)=0
{
sprite_index=hurt_sprite
legs_sprite=spr_beamos_mobile_hurt
}
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>604</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_inherited</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//MOVEMENT


if stunned&gt;0 exit
if dead=1 exit



move_patrol(move_speed,100,45,-5,4)
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>scr_life_or_death()
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//GETTING CUT BY SWORD



if dead=1 exit



scr_hit_by_sword()
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//ATTACKING

if stunned&gt;0 exit


if attack=0
{

    if abs(angle_difference(aim,point_direction(x,y,obj_link.x,obj_link.y)))&lt;attack_angle
    if collision_line(x,y,obj_link.x,obj_link.y,obj_barrier_par,0,0)&lt;0
    {
    
        attack=1
        rotate=0
        alarm[0]=attack_alarm
        alarm[2]=attack_alarm-4
    
    }

}



if attack=1
{
    
    if point_distance(x,y,obj_link.x,obj_link.y)&gt;line_of_sight
    {
        attack=0
        alarm[0]=-1
        alarm[2]=-1
        exit
    }
    
    var dir, spd, ic;
    
    dir=point_direction(obj_link.xprevious,obj_link.yprevious,obj_link.x,obj_link.y)
    spd=point_distance(obj_link.xprevious,obj_link.yprevious,obj_link.x,obj_link.y)
    ic=intercept_course(self,obj_link.x,obj_link.y+4,spd,dir,attack_speed)
    
    if ic!=-1
    aim=ic
    
    //image_index=aim/360*8+.5

}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//ANIMATION


if dead=1 exit
if stunned&gt;0 exit
if global.show_inventory=1 exit




if attack=0
{

    aim+=(image_speed_normal*360/8)

}

    if aim&gt;=360
    aim-=360
    
    
    if allow_index_change=1
    image_index=aim/360*8
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//PAUSING GAME


if global.show_inventory=1
{

    if alarm[0]&gt;=0
    alarm[0]+=1
    if alarm[1]&gt;=0
    alarm[1]+=1
    if alarm[2]&gt;=0
    alarm[2]+=1
    if alarm[3]&gt;=0
    alarm[3]+=1

}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if draw=0 exit


draw_sprite(sprite_index,image_index,round(x)+xg,round(y)+yg-round(z)-legs_index)
draw_sprite(legs_sprite,legs_index,round(x)+xg,round(y)+yg-round(z)+legs_y)
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>604</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_inherited</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
