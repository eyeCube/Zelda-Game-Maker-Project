<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_wizzrobe_red</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>0</depth>
  <persistent>0</persistent>
  <parentName>obj_enemy_par</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>604</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_inherited</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//STATES

collides_with_walls=1


stopped=0
stop_after_attack_time=0

visible=0

hit=0

dead=0
death_timer=5

aggro=1

image_speed=0

spritewidth=sprite_width
spriteheight=sprite_height
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if variable_local_exists("event_id")=1
{
    if global.event[event_id]=1
    {
        instance_destroy()
    }
}



life_max=3
life=life_max
mass=23

color=spr_red_enemy_explosion

avoid_link_collision=0


///appearing alarm
alarm0=60
alarm[0]=alarm0
accuracy=84
min_dist=40
///flashing alarm
alarm1=15
flashing=0
///attacking alarm
alarm2=10
attack_angle=40
///flashing 2 alarm
alarm3=15
///attack wait alarm
alarm4=15


bolt_damage=2
bolt_type='Fire'
bolt_speed=8
particles=spr_fire_ball_tiny
create_particles=1
bolt_sprite=spr_fire_ball_large
bolt_time=15

teleport_close_distance=48

homing_bolt=3
bolt2_damage=2
bolt2_type='Fire'
bolt2_speed=3
particles2=spr_fire_ball_tiny
create_particles2=1
bolt2_sprite=spr_fire_ball_large
bolt2_time=60


summon=0
summon1=0
summon1_quantity=0
summon2=0
summon2_quantity=0
summon3=0
summon3_quantity=0
summon4=0
summon4_quantity=0
summon5=0
summon5_quantity=0
summon_max=0
summon_delay=30


rupee=obj_rupee_yellow
rupee_chance=.1

force=45
damage=1
slow=0
stun=0
ice=0
fire=0
shock=0
poison=0
slowed=0
stunned=0
frozen=0
burned=0
shocked=0
poisoned=0
hold=0

knockback=0
sword_push_away=.4
attack_retreat=7


hurt_sprite=spr_wizzrobe_hurt
regular_sprite=spr_wizzrobe_red
sprite_left=sprite_width/2
sprite_right=sprite_width/2
sprite_up=sprite_height/2
sprite_down=sprite_height/2
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>//RESISTANCES

throw_stun=30
res_throw=1
boomerang_stun=30
res_boomerang=1
res_fire=1
res_ice=1
res_ice_damage=1
res_lightning=1
res_lightning_damage=1
res_light=0
res_physical=1
physical_stun=8
res_sword_beam=1
res_arrow=1
arrow_bounce=0
res_magic=0
magic_transform=0
magic_transform_object=0
res_explosion=1
res_explosion_damage=1
res_poison=1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="1" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if variable_local_exists("event_id")=1
{

    if global.event[event_id]=1
    exit
    
    global.event[event_id]=1
}



obj=instance_create(x,y,obj_enemy_explosion)
obj.sprite_index=color



if random(1)&lt;.09
{
instance_create(x,y,obj_recovery_heart)
}

else
if random(1)&lt;rupee_chance
{
instance_create(x,y,rupee)
}

else
if random(1)&lt;.13
{
instance_create(x,y,obj_rupee_green)
}

else
if random(1)&lt;.04
{
instance_create(x,y,obj_rupee_red)
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///attack wait alarm

flashing=0


///////////////////////////////////////////////////////

if dead=1 exit

if hit&gt;0
or frozen&gt;0
{
    alarm[4]=1
    exit
}

///////////////////////////////////////////////////////



alarm[0]=alarm0



visible=0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="3">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///flashing 2 alarm

if dead=1 exit

alarm[4]=alarm4

flashing=1
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///attacking alarm

if dead=1 exit



if point_distance(x,y,obj_link.x,obj_link.y)&gt;=teleport_close_distance
//summon
if instance_number(obj_enemy_par)&lt;summon_max
if summon=1
{

    alarm[3]=alarm3

    var summon_c;
    summon_c=object_index
    while instance_exists(summon_c)
    and summon_c!=obj_wizzrobe
    {
        summon_c=choose(summon1,summon2,summon3,summon4,summon5)
    }
    
    if summon_c=obj_wizzrobe
    and instance_number(obj_wizzrobe)=2
    summon_c=self //exit summoning
    
    if summon_c=summon1
    {
        obj=instance_create(view_wview/2,view_hview/2,obj_summon)
        obj.summon=summon1
        obj.summon_delay=summon_delay
        obj.quantity=summon1_quantity
        exit
    }
    
    if summon_c=summon2
    {
        obj=instance_create(view_wview/2,view_hview/2,obj_summon)
        obj.summon=summon2
        obj.summon_delay=summon_delay
        obj.quantity=summon2_quantity
        exit
    }
    
    if summon_c=summon3
    {
        obj=instance_create(view_wview/2,view_hview/2,obj_summon)
        obj.summon=summon3
        obj.summon_delay=summon_delay
        obj.quantity=summon3_quantity
        exit
    }
    
    if summon_c=summon4
    {
        obj=instance_create(view_wview/2,view_hview/2,obj_summon)
        obj.summon=summon4
        obj.summon_delay=summon_delay
        obj.quantity=summon4_quantity
        exit
    }
    
    if summon_c=summon5
    {
        obj=instance_create(view_wview/2,view_hview/2,obj_summon)
        obj.summon=summon5
        obj.summon_delay=summon_delay
        obj.quantity=summon5_quantity
        exit
    }
    
    
    
    if summon_c=summon6
    {
        obj=instance_create(view_wview/2,view_hview/2,obj_summon)
        obj.summon=summon6
        obj.summon_delay=summon_delay
        obj.quantity=summon6_quantity
        exit
    }
    
}




//teleport if you're too close
if abs(angle_difference(point_direction(x,y,obj_link.x,obj_link.y),image_index*90))&gt;attack_angle
{    

    if point_distance(x,y,obj_link.x,obj_link.y)&lt;teleport_close_distance
    {
        alarm[4]=alarm4
        flashing=1
        exit
    }
    
    
    else
    //fire homing bolt
    if homing_bolt&gt;0
    {
    
        alarm[3]=alarm3
        
        obj=instance_create(x,y,obj_enemy_bolt)
        obj.direction=image_index*90
        obj.speed=bolt2_speed
        obj.sprite_index=bolt2_sprite
        obj.spell=bolt2_type
        obj.damage=bolt2_damage
        obj.deflectable=0
        obj.particle_sprite=particles2
        obj.create_particles=create_particles2
        
        obj.homing=homing_bolt
        obj.alarm[10]=bolt2_time
        
        exit
        
    }
    
    
}




//fire regular bolt if not doing anything else

alarm[3]=alarm3


obj=instance_create(x,y,obj_enemy_bolt)
obj.direction=image_index*90
obj.speed=bolt_speed
obj.sprite_index=bolt_sprite
obj.spell=bolt_type
obj.damage=bolt_damage
obj.deflectable=0
obj.particle_sprite=particles
obj.create_particles=create_particles
obj.alarm[10]=bolt_time
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///flashing alarm

if dead=1 exit




flashing=0

alarm[2]=alarm2
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///appearing alarm

if dead=1 exit


if xstart&gt;view_xview
and ystart&gt;view_yview
and xstart&lt;view_xview+view_wview
and ystart&lt;view_yview+view_hview
{

    alarm[1]=alarm1
    
    flashing=1
    visible=1
    
    x=random(view_wview)+view_xview
    y=random(view_hview)+view_yview
    
    
        while place_meeting(x,y,obj_barrier_par)=1
        or place_meeting(x,y,obj_enemy_avoid_block)=1
        or y&lt;view_yview+24
        or point_distance(x,y,obj_link.x,obj_link.y)&gt;accuracy
        or point_distance(x,y,obj_link.x,obj_link.y)&lt;min_dist
        {
            
            x=random(view_wview)+view_xview
            y=random(view_hview)+view_yview
            
        }
    
    
    image_index=round(point_direction(x,y,obj_link.x,obj_link.y)/90)

}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///STATUS

stunned-=1

//////////////////////////////////////////////////////////////////
if global.show_inventory=1
exit
//////////////////////////////////////////////////////////////////

burned-=1
if burned&gt;0
burn_damage_timer-=1
if burn_damage_timer&lt;0 burn_damage_timer=0
frozen-=1
shocked-=1
slowed-=1


sprite_index=regular_sprite

if dead=1 flashing=0

hit-=1

if hit&gt;0
{
if is_even(hit)=0
{
sprite_index=hurt_sprite
}
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>604</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_inherited</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>scr_life_or_death()
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///GETTING CUT BY SWORD


if dead=1 exit


scr_hit_by_sword()
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///PAUSING GAME


if stunned&gt;0
{

    if alarm[0]&gt;0
    alarm[0]+=1
    if alarm[1]&gt;0
    alarm[1]+=1
    if alarm[2]&gt;0
    alarm[2]+=1
    if alarm[3]&gt;0
    alarm[3]+=1

}

if obj_link.shifting_view=1
{

    visible=0
    flashing=0
    
    alarm[0]=alarm0
    alarm[1]=-1
    alarm[2]=-1
    alarm[3]=-1

}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if draw=0 exit


var drawn_sprite;
drawn_sprite=sprite_index

if flashing=1
{
    if is_even(stunned)=1
    exit
    else
    if hit&gt;0
    drawn_sprite=hurt_sprite
}

if stunned&lt;0
or stunned&gt;=15
or stopped&gt;0
{
draw_sprite(drawn_sprite,image_index,round(x),round(y)-round(z))
exit
}

if stunned&gt;=0
if stunned&lt;15
{
draw_sprite(drawn_sprite,image_index,round(x)+is_even(stunned),round(y)-round(z))
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>604</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>1</exetype>
        <functionname>action_inherited</functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
