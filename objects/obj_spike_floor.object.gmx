<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_spike_floor</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>10</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///this object is constantly active; see high draw control (just so that the animation syncs up and doesn't get fucked when the view shifts)
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>animation_dir=1

alarm0=3
alarm[0]=alarm0

image_speed=0


hit=0

if variable_local_exists("button_id")=0
button_id=1

if variable_local_exists("broken")=0
broken=0

if variable_local_exists("revert_broken")=0
revert_broken=0
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="2" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if broken=1
exit


alarm[0]=alarm0



if position_meeting(x,y,obj_barrier_par)=1
{
    if instance_position(x,y,obj_barrier_par).pushing=0
    {
        broken=1
        sprite_index=spr_spike_floor_broken
        image_index=0
        exit
    }
}









var go;
go=0


with obj_switch_par
{
    if button_id=other.button_id
    if status=0
    go=1
}
with obj_button_par
{
    if button_id=other.button_id
    if status=0
    go=1
}

if go=1
{
        
    
    image_index -=   1
    if image_index &lt; 0
    {
    image_index=0
    animation_dir=1
    }


    exit
}



        
        
        image_index +=   1*animation_dir
        if image_index &gt; 2
        {
        image_index=1
        animation_dir=-1
        }
        if image_index &lt; 0
        {
        image_index=1
        animation_dir=1
        }

</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///PAUSING GAME


if global.show_inventory=1
or obj_link.shifting_view=1
{

    alarm[0]=alarm0
    
    if revert_broken
    {
        if x&gt;view_xview+view_wview
        or y&gt;view_yview+view_hview
        or x&lt;view_xview
        or y&lt;view_yview
        {
            sprite_index=spr_spike_floor
            broken=0
            image_index=0
        }
    }

}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>hit-=1
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///hitting link

if obj_link.shifting_view=0
if obj_link.z=0
if obj_link.dead=0

if x&gt;=view_xview
if x&lt;=view_xview+view_wview
if y&gt;=view_yview
if y&lt;=view_yview+view_hview

if image_index=2
{
    if collision_rectangle(x+3,y+3,x+13,y+13,obj_link,1,0)&gt;0
    {
        if hit&lt;=0
        {
        
            with obj_link
            {
            
                dead=1
                
                sprite_index=spr_link_ouchno
                
                z_change=10
                jump=1
                jump_speed=0
                
                
                image_index=0
                image_index_mod=0
                image_speed=.5
                stunned=0
                stopped=0
                shocked=0
                frozen=0
                burned=0
                
                can_move=0
                
                knockback=0
                
                depth=-15
            
            }
        }
    }
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///hitting enemies

    if obj_link.shifting_view=0
    
with obj_enemy_par
{

    if can_be_hit_by_spikes
    
    if z=0
    if dead=0
    
    if x&gt;=view_xview
    if x&lt;=view_xview+view_wview
    if y&gt;=view_yview
    if y&lt;=view_yview+view_hview
    
    if other.image_index=2
    {
        if place_meeting(x,y,other.id)
        {
            if hit&lt;=0
            if other.hit&lt;=0
            {
                hit=6
                life-=2*res_spike
        
            }
        }
    }

}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///hitting bombs

    if obj_link.shifting_view=0
    
with obj_bomb
if follow_id=-1
{
    
    if z=0
    
    if other.image_index=2
    {
        if place_meeting(x,y,other.id)
        {
            if other.hit&lt;=0
            {
                mode=3
        
            }
        }
    }

}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
